$(document).ready(function() {
const myData = {
  datagrid:[{"GRIDCODE":1735,"lat":35.91511132,"long":-5.401484264},{"GRIDCODE":1805,"lat":35.90677815,"long":-5.468149593},{"GRIDCODE":1808,"lat":35.90677815,"long":-5.459816427},{"GRIDCODE":1804,"lat":35.90677815,"long":-5.451483261},{"GRIDCODE":1657,"lat":35.90677815,"long":-5.40981743},{"GRIDCODE":1718,"lat":35.90677815,"long":-5.401484264},{"GRIDCODE":1738,"lat":35.90677815,"long":-5.384817932},{"GRIDCODE":1784,"lat":35.89844499,"long":-5.476482759},{"GRIDCODE":1798,"lat":35.89844499,"long":-5.468149593},{"GRIDCODE":1827,"lat":35.89844499,"long":-5.459816427},{"GRIDCODE":1774,"lat":35.89844499,"long":-5.451483261},{"GRIDCODE":1793,"lat":35.89844499,"long":-5.443150095},{"GRIDCODE":1725,"lat":35.89844499,"long":-5.434816929},{"GRIDCODE":1589,"lat":35.89844499,"long":-5.426483763},{"GRIDCODE":1524,"lat":35.89844499,"long":-5.418150596},{"GRIDCODE":1720,"lat":35.89844499,"long":-5.40981743},{"GRIDCODE":1537,"lat":35.89844499,"long":-5.401484264},{"GRIDCODE":1677,"lat":35.89844499,"long":-5.393151098},{"GRIDCODE":1673,"lat":35.89844499,"long":-5.384817932},{"GRIDCODE":1845,"lat":35.8942784,"long":-5.484815925},{"GRIDCODE":1869,"lat":35.89011182,"long":-5.476482759},{"GRIDCODE":1825,"lat":35.89011182,"long":-5.468149593},{"GRIDCODE":1835,"lat":35.89011182,"long":-5.459816427},{"GRIDCODE":1815,"lat":35.89011182,"long":-5.451483261},{"GRIDCODE":1814,"lat":35.89011182,"long":-5.443150095},{"GRIDCODE":1733,"lat":35.89011182,"long":-5.434816929},{"GRIDCODE":1726,"lat":35.89011182,"long":-5.426483763},{"GRIDCODE":1834,"lat":35.89011182,"long":-5.418150596},{"GRIDCODE":1846,"lat":35.89011182,"long":-5.40981743},{"GRIDCODE":1662,"lat":35.89011182,"long":-5.401484264},{"GRIDCODE":1728,"lat":35.89011182,"long":-5.393151098},{"GRIDCODE":1710,"lat":35.89011182,"long":-5.384817932},{"GRIDCODE":1795,"lat":35.88177866,"long":-5.497315674},{"GRIDCODE":1814,"lat":35.88177866,"long":-5.484815925},{"GRIDCODE":1817,"lat":35.88177866,"long":-5.476482759},{"GRIDCODE":1775,"lat":35.88177866,"long":-5.468149593},{"GRIDCODE":1802,"lat":35.88177866,"long":-5.459816427},{"GRIDCODE":1776,"lat":35.88177866,"long":-5.451483261},{"GRIDCODE":1773,"lat":35.88177866,"long":-5.443150095},{"GRIDCODE":1730,"lat":35.88177866,"long":-5.434816929},{"GRIDCODE":1728,"lat":35.88177866,"long":-5.426483763},{"GRIDCODE":1719,"lat":35.88177866,"long":-5.418150596},{"GRIDCODE":1670,"lat":35.88177866,"long":-5.40981743},{"GRIDCODE":1742,"lat":35.88177866,"long":-5.401484264},{"GRIDCODE":1763,"lat":35.88177866,"long":-5.393151098},{"GRIDCODE":1721,"lat":35.88177866,"long":-5.384817932},{"GRIDCODE":1811,"lat":35.87344549,"long":-5.509815423},{"GRIDCODE":1803,"lat":35.87344549,"long":-5.501482257},{"GRIDCODE":1813,"lat":35.87344549,"long":-5.493149091},{"GRIDCODE":1824,"lat":35.87344549,"long":-5.476482759},{"GRIDCODE":1782,"lat":35.87344549,"long":-5.468149593},{"GRIDCODE":1808,"lat":35.87344549,"long":-5.459816427},{"GRIDCODE":1788,"lat":35.87344549,"long":-5.451483261},{"GRIDCODE":1782,"lat":35.87344549,"long":-5.443150095},{"GRIDCODE":1731,"lat":35.87344549,"long":-5.434816929},{"GRIDCODE":1732,"lat":35.87344549,"long":-5.426483763},{"GRIDCODE":1763,"lat":35.87344549,"long":-5.418150596},{"GRIDCODE":1768,"lat":35.87344549,"long":-5.40981743},{"GRIDCODE":1785,"lat":35.87344549,"long":-5.401484264},{"GRIDCODE":1748,"lat":35.87344549,"long":-5.393151098},{"GRIDCODE":1709,"lat":35.87344549,"long":-5.384817932},{"GRIDCODE":1755,"lat":35.87344549,"long":-5.376484766},{"GRIDCODE":1745,"lat":35.87344549,"long":-5.3681516},{"GRIDCODE":1775,"lat":35.87344549,"long":-5.359818434},{"GRIDCODE":1777,"lat":35.87344549,"long":-5.351485268},{"GRIDCODE":1824,"lat":35.86511232,"long":-5.526481755},{"GRIDCODE":1813,"lat":35.86511232,"long":-5.518148589},{"GRIDCODE":1832,"lat":35.86511232,"long":-5.509815423},{"GRIDCODE":1816,"lat":35.86511232,"long":-5.501482257},{"GRIDCODE":1810,"lat":35.86511232,"long":-5.493149091},{"GRIDCODE":1803,"lat":35.86927891,"long":-5.484815925},{"GRIDCODE":1810,"lat":35.86511232,"long":-5.476482759},{"GRIDCODE":1781,"lat":35.86511232,"long":-5.468149593},{"GRIDCODE":1787,"lat":35.86511232,"long":-5.459816427},{"GRIDCODE":1778,"lat":35.86511232,"long":-5.451483261},{"GRIDCODE":1820,"lat":35.86511232,"long":-5.443150095},{"GRIDCODE":1735,"lat":35.86511232,"long":-5.434816929},{"GRIDCODE":1718,"lat":35.86511232,"long":-5.426483763},{"GRIDCODE":1737,"lat":35.86511232,"long":-5.418150596},{"GRIDCODE":1739,"lat":35.86511232,"long":-5.40981743},{"GRIDCODE":1761,"lat":35.86511232,"long":-5.401484264},{"GRIDCODE":1772,"lat":35.86511232,"long":-5.393151098},{"GRIDCODE":1784,"lat":35.86511232,"long":-5.384817932},{"GRIDCODE":1763,"lat":35.86511232,"long":-5.376484766},{"GRIDCODE":1748,"lat":35.86511232,"long":-5.3681516},{"GRIDCODE":1777,"lat":35.86511232,"long":-5.359818434},{"GRIDCODE":1814,"lat":35.85677916,"long":-5.526481755},{"GRIDCODE":1832,"lat":35.85677916,"long":-5.518148589},{"GRIDCODE":1828,"lat":35.85677916,"long":-5.509815423},{"GRIDCODE":1832,"lat":35.85677916,"long":-5.501482257},{"GRIDCODE":1826,"lat":35.85677916,"long":-5.493149091},{"GRIDCODE":1829,"lat":35.85677916,"long":-5.484815925},{"GRIDCODE":1814,"lat":35.85677916,"long":-5.476482759},{"GRIDCODE":1777,"lat":35.85677916,"long":-5.468149593},{"GRIDCODE":1757,"lat":35.85677916,"long":-5.459816427},{"GRIDCODE":1788,"lat":35.85677916,"long":-5.451483261},{"GRIDCODE":1776,"lat":35.85677916,"long":-5.443150095},{"GRIDCODE":1759,"lat":35.85677916,"long":-5.434816929},{"GRIDCODE":1746,"lat":35.85677916,"long":-5.426483763},{"GRIDCODE":1759,"lat":35.85677916,"long":-5.418150596},{"GRIDCODE":1764,"lat":35.85677916,"long":-5.40981743},{"GRIDCODE":1759,"lat":35.85677916,"long":-5.401484264},{"GRIDCODE":1747,"lat":35.85677916,"long":-5.393151098},{"GRIDCODE":1765,"lat":35.85677916,"long":-5.384817932},{"GRIDCODE":1755,"lat":35.85677916,"long":-5.372318183},{"GRIDCODE":1796,"lat":35.85677916,"long":-5.359818434},{"GRIDCODE":1776,"lat":35.86094574,"long":-5.351485268},{"GRIDCODE":1826,"lat":35.84844599,"long":-5.543148087},{"GRIDCODE":1818,"lat":35.84844599,"long":-5.534814921},{"GRIDCODE":1822,"lat":35.84844599,"long":-5.526481755},{"GRIDCODE":1840,"lat":35.84844599,"long":-5.518148589},{"GRIDCODE":1839,"lat":35.84844599,"long":-5.509815423},{"GRIDCODE":1819,"lat":35.84844599,"long":-5.501482257},{"GRIDCODE":1843,"lat":35.84844599,"long":-5.493149091},{"GRIDCODE":1816,"lat":35.84844599,"long":-5.484815925},{"GRIDCODE":1818,"lat":35.84844599,"long":-5.476482759},{"GRIDCODE":1784,"lat":35.84844599,"long":-5.468149593},{"GRIDCODE":1789,"lat":35.84844599,"long":-5.459816427},{"GRIDCODE":1817,"lat":35.84844599,"long":-5.451483261},{"GRIDCODE":1798,"lat":35.84844599,"long":-5.443150095},{"GRIDCODE":1803,"lat":35.84844599,"long":-5.434816929},{"GRIDCODE":1768,"lat":35.84844599,"long":-5.426483763},{"GRIDCODE":1744,"lat":35.84844599,"long":-5.418150596},{"GRIDCODE":1720,"lat":35.84844599,"long":-5.401484264},{"GRIDCODE":1780,"lat":35.84844599,"long":-5.393151098},{"GRIDCODE":1751,"lat":35.84844599,"long":-5.384817932},{"GRIDCODE":1759,"lat":35.84844599,"long":-5.376484766},{"GRIDCODE":1761,"lat":35.84844599,"long":-5.3681516},{"GRIDCODE":1795,"lat":35.84844599,"long":-5.359818434},{"GRIDCODE":1775,"lat":35.84844599,"long":-5.351485268},{"GRIDCODE":1828,"lat":35.84011283,"long":-5.55981442},{"GRIDCODE":1823,"lat":35.84011283,"long":-5.551481253},{"GRIDCODE":1851,"lat":35.84011283,"long":-5.543148087},{"GRIDCODE":1834,"lat":35.84011283,"long":-5.534814921},{"GRIDCODE":1827,"lat":35.84011283,"long":-5.526481755},{"GRIDCODE":1835,"lat":35.84011283,"long":-5.518148589},{"GRIDCODE":1847,"lat":35.84011283,"long":-5.509815423},{"GRIDCODE":1823,"lat":35.84011283,"long":-5.501482257},{"GRIDCODE":1796,"lat":35.84011283,"long":-5.493149091},{"GRIDCODE":1795,"lat":35.84011283,"long":-5.484815925},{"GRIDCODE":1800,"lat":35.84011283,"long":-5.476482759},{"GRIDCODE":1821,"lat":35.84011283,"long":-5.468149593},{"GRIDCODE":1755,"lat":35.84011283,"long":-5.459816427},{"GRIDCODE":1743,"lat":35.84011283,"long":-5.451483261},{"GRIDCODE":1780,"lat":35.84011283,"long":-5.443150095},{"GRIDCODE":1753,"lat":35.84011283,"long":-5.434816929},{"GRIDCODE":1728,"lat":35.84011283,"long":-5.426483763},{"GRIDCODE":1751,"lat":35.84011283,"long":-5.418150596},{"GRIDCODE":1743,"lat":35.84427941,"long":-5.40981743},{"GRIDCODE":1723,"lat":35.84011283,"long":-5.401484264},{"GRIDCODE":1777,"lat":35.84011283,"long":-5.393151098},{"GRIDCODE":1784,"lat":35.84011283,"long":-5.384817932},{"GRIDCODE":1783,"lat":35.84011283,"long":-5.376484766},{"GRIDCODE":1784,"lat":35.84011283,"long":-5.3681516},{"GRIDCODE":1799,"lat":35.84011283,"long":-5.359818434},{"GRIDCODE":1868,"lat":35.83177966,"long":-5.693145077},{"GRIDCODE":1859,"lat":35.83177966,"long":-5.684811911},{"GRIDCODE":1867,"lat":35.83177966,"long":-5.626479748},{"GRIDCODE":1838,"lat":35.83177966,"long":-5.576480752},{"GRIDCODE":1827,"lat":35.83177966,"long":-5.568147586},{"GRIDCODE":1840,"lat":35.83177966,"long":-5.55981442},{"GRIDCODE":1842,"lat":35.83177966,"long":-5.551481253},{"GRIDCODE":1853,"lat":35.83177966,"long":-5.543148087},{"GRIDCODE":1844,"lat":35.83177966,"long":-5.534814921},{"GRIDCODE":1834,"lat":35.83177966,"long":-5.522315172},{"GRIDCODE":1810,"lat":35.83177966,"long":-5.509815423},{"GRIDCODE":1863,"lat":35.83177966,"long":-5.501482257},{"GRIDCODE":1811,"lat":35.83177966,"long":-5.493149091},{"GRIDCODE":1797,"lat":35.83177966,"long":-5.476482759},{"GRIDCODE":1835,"lat":35.83177966,"long":-5.468149593},{"GRIDCODE":1747,"lat":35.83177966,"long":-5.459816427},{"GRIDCODE":1739,"lat":35.83177966,"long":-5.451483261},{"GRIDCODE":1756,"lat":35.83177966,"long":-5.443150095},{"GRIDCODE":1752,"lat":35.83177966,"long":-5.434816929},{"GRIDCODE":1724,"lat":35.83177966,"long":-5.426483763},{"GRIDCODE":1708,"lat":35.83177966,"long":-5.418150596},{"GRIDCODE":1723,"lat":35.83177966,"long":-5.40981743},{"GRIDCODE":1741,"lat":35.83177966,"long":-5.401484264},{"GRIDCODE":1769,"lat":35.83177966,"long":-5.393151098},{"GRIDCODE":1792,"lat":35.83177966,"long":-5.384817932},{"GRIDCODE":1788,"lat":35.83177966,"long":-5.376484766},{"GRIDCODE":1785,"lat":35.83177966,"long":-5.3681516},{"GRIDCODE":1800,"lat":35.83177966,"long":-5.359818434},{"GRIDCODE":1881,"lat":35.82344649,"long":-5.718144575},{"GRIDCODE":1903,"lat":35.82344649,"long":-5.709811409},{"GRIDCODE":1859,"lat":35.82344649,"long":-5.69731166},{"GRIDCODE":1860,"lat":35.82344649,"long":-5.684811911},{"GRIDCODE":1858,"lat":35.82344649,"long":-5.676478744},{"GRIDCODE":1848,"lat":35.82344649,"long":-5.663978995},{"GRIDCODE":1856,"lat":35.82344649,"long":-5.64314608},{"GRIDCODE":1864,"lat":35.82344649,"long":-5.634812914},{"GRIDCODE":1859,"lat":35.82344649,"long":-5.626479748},{"GRIDCODE":1864,"lat":35.82344649,"long":-5.618146582},{"GRIDCODE":1853,"lat":35.82344649,"long":-5.609813416},{"GRIDCODE":1841,"lat":35.82344649,"long":-5.60148025},{"GRIDCODE":1844,"lat":35.82344649,"long":-5.593147084},{"GRIDCODE":1843,"lat":35.82344649,"long":-5.584813918},{"GRIDCODE":1859,"lat":35.82344649,"long":-5.576480752},{"GRIDCODE":1843,"lat":35.82344649,"long":-5.568147586},{"GRIDCODE":1838,"lat":35.82344649,"long":-5.55981442},{"GRIDCODE":1829,"lat":35.82344649,"long":-5.551481253},{"GRIDCODE":1856,"lat":35.82344649,"long":-5.543148087},{"GRIDCODE":1822,"lat":35.82344649,"long":-5.534814921},{"GRIDCODE":1833,"lat":35.82344649,"long":-5.526481755},{"GRIDCODE":1844,"lat":35.82344649,"long":-5.518148589},{"GRIDCODE":1824,"lat":35.82344649,"long":-5.509815423},{"GRIDCODE":1850,"lat":35.82344649,"long":-5.501482257},{"GRIDCODE":1820,"lat":35.82344649,"long":-5.493149091},{"GRIDCODE":1781,"lat":35.82761308,"long":-5.484815925},{"GRIDCODE":1839,"lat":35.82344649,"long":-5.476482759},{"GRIDCODE":1849,"lat":35.82344649,"long":-5.468149593},{"GRIDCODE":1761,"lat":35.82344649,"long":-5.459816427},{"GRIDCODE":1762,"lat":35.82344649,"long":-5.451483261},{"GRIDCODE":1763,"lat":35.82344649,"long":-5.443150095},{"GRIDCODE":1777,"lat":35.82344649,"long":-5.434816929},{"GRIDCODE":1733,"lat":35.82344649,"long":-5.426483763},{"GRIDCODE":1727,"lat":35.82344649,"long":-5.418150596},{"GRIDCODE":1725,"lat":35.82344649,"long":-5.40981743},{"GRIDCODE":1743,"lat":35.82344649,"long":-5.401484264},{"GRIDCODE":1766,"lat":35.82344649,"long":-5.393151098},{"GRIDCODE":1799,"lat":35.82344649,"long":-5.384817932},{"GRIDCODE":1782,"lat":35.82344649,"long":-5.376484766},{"GRIDCODE":1783,"lat":35.82344649,"long":-5.3681516},{"GRIDCODE":1923,"lat":35.81511333,"long":-5.743144073},{"GRIDCODE":1902,"lat":35.81511333,"long":-5.734810907},{"GRIDCODE":1905,"lat":35.81511333,"long":-5.726477741},{"GRIDCODE":1907,"lat":35.81511333,"long":-5.718144575},{"GRIDCODE":1908,"lat":35.81511333,"long":-5.709811409},{"GRIDCODE":1862,"lat":35.81511333,"long":-5.701478243},{"GRIDCODE":1858,"lat":35.81511333,"long":-5.693145077},{"GRIDCODE":1861,"lat":35.81511333,"long":-5.684811911},{"GRIDCODE":1872,"lat":35.81511333,"long":-5.676478744},{"GRIDCODE":1862,"lat":35.81511333,"long":-5.668145578},{"GRIDCODE":1851,"lat":35.81511333,"long":-5.659812412},{"GRIDCODE":1850,"lat":35.81511333,"long":-5.651479246},{"GRIDCODE":1849,"lat":35.81511333,"long":-5.64314608},{"GRIDCODE":1875,"lat":35.81511333,"long":-5.634812914},{"GRIDCODE":1879,"lat":35.81511333,"long":-5.626479748},{"GRIDCODE":1884,"lat":35.81511333,"long":-5.618146582},{"GRIDCODE":1870,"lat":35.81511333,"long":-5.609813416},{"GRIDCODE":1856,"lat":35.81511333,"long":-5.60148025},{"GRIDCODE":1881,"lat":35.81511333,"long":-5.593147084},{"GRIDCODE":1859,"lat":35.81511333,"long":-5.584813918},{"GRIDCODE":1857,"lat":35.81511333,"long":-5.576480752},{"GRIDCODE":1848,"lat":35.81511333,"long":-5.568147586},{"GRIDCODE":1825,"lat":35.81511333,"long":-5.55981442},{"GRIDCODE":1831,"lat":35.81511333,"long":-5.551481253},{"GRIDCODE":1881,"lat":35.81511333,"long":-5.543148087},{"GRIDCODE":1839,"lat":35.81511333,"long":-5.534814921},{"GRIDCODE":1840,"lat":35.81511333,"long":-5.526481755},{"GRIDCODE":1863,"lat":35.81511333,"long":-5.518148589},{"GRIDCODE":1827,"lat":35.81511333,"long":-5.509815423},{"GRIDCODE":1844,"lat":35.81511333,"long":-5.501482257},{"GRIDCODE":1822,"lat":35.81511333,"long":-5.493149091},{"GRIDCODE":1820,"lat":35.81511333,"long":-5.484815925},{"GRIDCODE":1821,"lat":35.81511333,"long":-5.476482759},{"GRIDCODE":1819,"lat":35.81511333,"long":-5.468149593},{"GRIDCODE":1756,"lat":35.81511333,"long":-5.459816427},{"GRIDCODE":1790,"lat":35.81511333,"long":-5.451483261},{"GRIDCODE":1776,"lat":35.81511333,"long":-5.443150095},{"GRIDCODE":1768,"lat":35.81511333,"long":-5.434816929},{"GRIDCODE":1763,"lat":35.81511333,"long":-5.426483763},{"GRIDCODE":1751,"lat":35.81511333,"long":-5.418150596},{"GRIDCODE":1738,"lat":35.81511333,"long":-5.40981743},{"GRIDCODE":1728,"lat":35.81511333,"long":-5.401484264},{"GRIDCODE":1807,"lat":35.81511333,"long":-5.393151098},{"GRIDCODE":1786,"lat":35.81511333,"long":-5.384817932},{"GRIDCODE":1777,"lat":35.81511333,"long":-5.376484766},{"GRIDCODE":1784,"lat":35.81511333,"long":-5.3681516},{"GRIDCODE":1799,"lat":35.81927991,"long":-5.359818434},{"GRIDCODE":1877,"lat":35.80678016,"long":-5.743144073},{"GRIDCODE":1862,"lat":35.80678016,"long":-5.734810907},{"GRIDCODE":1863,"lat":35.80678016,"long":-5.726477741},{"GRIDCODE":1871,"lat":35.80678016,"long":-5.718144575},{"GRIDCODE":1859,"lat":35.80678016,"long":-5.709811409},{"GRIDCODE":1849,"lat":35.80678016,"long":-5.701478243},{"GRIDCODE":1866,"lat":35.80678016,"long":-5.693145077},{"GRIDCODE":1877,"lat":35.80678016,"long":-5.684811911},{"GRIDCODE":1868,"lat":35.80678016,"long":-5.676478744},{"GRIDCODE":1881,"lat":35.80678016,"long":-5.663978995},{"GRIDCODE":1870,"lat":35.80678016,"long":-5.651479246},{"GRIDCODE":1866,"lat":35.80678016,"long":-5.64314608},{"GRIDCODE":1863,"lat":35.80678016,"long":-5.634812914},{"GRIDCODE":1869,"lat":35.80678016,"long":-5.626479748},{"GRIDCODE":1870,"lat":35.80678016,"long":-5.618146582},{"GRIDCODE":1867,"lat":35.80678016,"long":-5.609813416},{"GRIDCODE":1860,"lat":35.80678016,"long":-5.60148025},{"GRIDCODE":1880,"lat":35.80678016,"long":-5.593147084},{"GRIDCODE":1787,"lat":35.80678016,"long":-5.584813918},{"GRIDCODE":1850,"lat":35.80678016,"long":-5.572314169},{"GRIDCODE":1834,"lat":35.80678016,"long":-5.55981442},{"GRIDCODE":1813,"lat":35.80678016,"long":-5.551481253},{"GRIDCODE":1843,"lat":35.80678016,"long":-5.543148087},{"GRIDCODE":1868,"lat":35.80678016,"long":-5.534814921},{"GRIDCODE":1857,"lat":35.80678016,"long":-5.526481755},{"GRIDCODE":1852,"lat":35.80678016,"long":-5.518148589},{"GRIDCODE":1841,"lat":35.80678016,"long":-5.509815423},{"GRIDCODE":1855,"lat":35.80678016,"long":-5.501482257},{"GRIDCODE":1817,"lat":35.80678016,"long":-5.493149091},{"GRIDCODE":1797,"lat":35.80678016,"long":-5.484815925},{"GRIDCODE":1817,"lat":35.80678016,"long":-5.476482759},{"GRIDCODE":1823,"lat":35.80678016,"long":-5.468149593},{"GRIDCODE":1784,"lat":35.80678016,"long":-5.459816427},{"GRIDCODE":1720,"lat":35.80678016,"long":-5.443150095},{"GRIDCODE":1757,"lat":35.80678016,"long":-5.434816929},{"GRIDCODE":1754,"lat":35.80678016,"long":-5.426483763},{"GRIDCODE":1768,"lat":35.80678016,"long":-5.418150596},{"GRIDCODE":1759,"lat":35.80678016,"long":-5.40981743},{"GRIDCODE":1757,"lat":35.80678016,"long":-5.401484264},{"GRIDCODE":1783,"lat":35.80678016,"long":-5.393151098},{"GRIDCODE":1789,"lat":35.80678016,"long":-5.384817932},{"GRIDCODE":1787,"lat":35.80678016,"long":-5.376484766},{"GRIDCODE":1788,"lat":35.80678016,"long":-5.3681516},{"GRIDCODE":1796,"lat":35.80678016,"long":-5.359818434},{"GRIDCODE":1888,"lat":35.79844699,"long":-5.743144073},{"GRIDCODE":1875,"lat":35.79844699,"long":-5.734810907},{"GRIDCODE":1874,"lat":35.79844699,"long":-5.726477741},{"GRIDCODE":1878,"lat":35.79844699,"long":-5.718144575},{"GRIDCODE":1877,"lat":35.79844699,"long":-5.709811409},{"GRIDCODE":1866,"lat":35.79844699,"long":-5.701478243},{"GRIDCODE":1871,"lat":35.79844699,"long":-5.693145077},{"GRIDCODE":1869,"lat":35.79844699,"long":-5.684811911},{"GRIDCODE":1892,"lat":35.79844699,"long":-5.676478744},{"GRIDCODE":1890,"lat":35.79844699,"long":-5.668145578},{"GRIDCODE":1864,"lat":35.79844699,"long":-5.659812412},{"GRIDCODE":1860,"lat":35.79844699,"long":-5.651479246},{"GRIDCODE":1850,"lat":35.79844699,"long":-5.64314608},{"GRIDCODE":1865,"lat":35.79844699,"long":-5.634812914},{"GRIDCODE":1867,"lat":35.79844699,"long":-5.626479748},{"GRIDCODE":1866,"lat":35.79844699,"long":-5.618146582},{"GRIDCODE":1869,"lat":35.79844699,"long":-5.609813416},{"GRIDCODE":1851,"lat":35.79844699,"long":-5.60148025},{"GRIDCODE":1873,"lat":35.79844699,"long":-5.593147084},{"GRIDCODE":1886,"lat":35.79844699,"long":-5.584813918},{"GRIDCODE":1869,"lat":35.79844699,"long":-5.576480752},{"GRIDCODE":1847,"lat":35.79844699,"long":-5.568147586},{"GRIDCODE":1839,"lat":35.79844699,"long":-5.55981442},{"GRIDCODE":1844,"lat":35.79844699,"long":-5.551481253}] };

function lookupGridcodeByLatAndLong(lat, long)
{
let gridcode = 0;

var result = myData.datagrid.find(x => x.lat == lat && x.long == long)
if (result) {
  gridcode = result.GRIDCODE;
}

return gridcode;
}

$("input[name='chktype']").click(function () {
                                               if ($("#rdp").is(":checked")) {
                                                   $("#rendement").show();
                                                   $("#selecttype").hide();
                                               } else {
                                                   $("#rendement").hide();
                                                   $("#selecttype").show();
                                               }
});



  $("form[name='calculeForm']").validate({
    // Specify validation rules
    rules: {
      // The key name on the left side is the name attribute
      // of an input field. Validation rules are defined
      // on the right side
      lat: "required",
      long: "required",
      surface:"required" ,
      chktype: "required"
    },
    // Specify validation error messages
    messages: {
      lat: "Veuillez indiquer Latitude",
      long: "Veuillez indiquer Longtitude",
      surface: "Veuillez enter la Surface",
      chktype: "Veuillez choisir le type de rendement"
    },

    // Make sure the form is submitted to the destination defined
    // in the "action" attribute of the form when valid
    submitHandler: function(form) {
      form.submit();
    }
  });


$("#Btn" ).click(function() {
   var valid = $("form[name='calculeForm']").valid();
   if (valid === false) {

   }
   else {


  var result="",
  select = $("#mySelect").val(),
  surface = $("#surface").val(),
  lat = $("#lat").val(),
  long = $("#long").val();
  var type = $('input[name=chktype]:checked', '#formName').val()
  var ghi = lookupGridcodeByLatAndLong(lat, long);
if (type == "panneau")
{
  if (select == "silicium polycristallin")
  {
    // Silicium polycristallin 15%
      result = (surface * ghi * (15/5))/100;
  }

  else if (select == "silicium monocristallin")
  {
    // silicium monocristallin 19%
  result = (surface * ghi * (19/5))/100;
  }
  else if (select == "couche mince")
  {
    // couche mince 10%
   result = (surface * ghi * (10/5))/100;
  }
}

else if (type == "rendement" )
  {
    var rendement = $("#rend").val();
    result = (surface * ghi *(rendement/5))/100;
  }

$("#result").show();
$("#resultat").html(result);
}
});
});
